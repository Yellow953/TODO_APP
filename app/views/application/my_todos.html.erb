<div class="m-4 p-4 card">
    <div class="card-header p-4 d-flex justify-content-between">
        <h2>My TODO List</h2>
    </div>

   
    <%= turbo_frame_tag "todo_form" do %>
        <%= form_with(model: @todo) do |form| %>
            <div class="row m-4">
                <div class="col-10">
                    <%= form.text_field :name, class:"form-control" %>
                    <%= form.hidden_field :user_id, value:current_user.id %>
                </div>
                <div class="col-2">
                    <%= form.submit class:"btn btn-primary"%>
                </div>
            </div>
        <% end %>
    <% end %>

    <div id="my_todos">
        <%= turbo_stream_from "todos" %>
        <%= turbo_frame_tag "todos" do %>
            <% current_user.todos.each do |todo| %>
                <%= render todo %>
            <% end %>
        <% end %>    
    </div>
</div>